# üìù –õ–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω–∞ —Ä–æ–±–æ—Ç–∞ ‚Ññ5: –†–æ–∑—Ä–æ–±–∫–∞ RESTful API

## –Ü–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—è –ø—Ä–æ –ø—Ä–æ—î–∫—Ç
- **–ù–∞–∑–≤–∞ –ø—Ä–æ—î–∫—Ç—É:** Stardew Valley Fan Hub API (v1)
- **–ê–≤—Ç–æ—Ä–∏:** –ú–∞—Ä—Ç–∏–Ω—é–∫ –ú–∞–∫—Å–∏–º, –ê–ª—î—î–≤ –Ü–≤–∞–Ω, –ì–∞–≤—Ä–∏–ª—é–∫ –õ—é–±–æ–º–∏—Ä, –í—ñ–Ω–Ω—ñ–∫ –ê—Ä—Ç–µ–º

## –û–ø–∏—Å –ø—Ä–æ—î–∫—Ç—É
–¶–µ–π RESTful API —Ä–æ–∑—Ä–æ–±–ª–µ–Ω–æ –¥–ª—è –∑–∞–±–µ–∑–ø–µ—á–µ–Ω–Ω—è –ø—Ä–æ–≥—Ä–∞–º–Ω–æ–≥–æ –¥–æ—Å—Ç—É–ø—É –¥–æ –¥–∞–Ω–∏—Ö –≤–µ–±–∑–∞—Å—Ç–æ—Å—É–Ω–∫—É Stardew Valley Fan Hub. API –¥–æ–∑–≤–æ–ª—è—î –∑–æ–≤–Ω—ñ—à–Ω—ñ–º –∫–ª—ñ—î–Ω—Ç–∞–º (–º–æ–±—ñ–ª—å–Ω–∏–º –¥–æ–¥–∞—Ç–∫–∞–º, —ñ–Ω—à–∏–º —Å–µ—Ä–≤—ñ—Å–∞–º) –≤–∏–∫–æ–Ω—É–≤–∞—Ç–∏ CRUD-–æ–ø–µ—Ä–∞—Ü—ñ—ó –∑ –∫–∞—Ç–∞–ª–æ–≥–æ–º —Ç–æ–≤–∞—Ä—ñ–≤ —Ç–∞ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è–º–∏ —É —Ñ–æ—Ä–º–∞—Ç—ñ JSON. API —Ä–µ–∞–ª—ñ–∑–æ–≤–∞–Ω–æ –∑ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è–º **–í–µ—Ä—Å—ñ–æ–Ω—É–≤–∞–Ω–Ω—è (v1)** —Ç–∞ **–í–∞–ª—ñ–¥–∞—Ü—ñ—ó (–†—ñ–≤–µ–Ω—å 3)**.

## –¢–µ—Ö–Ω–æ–ª–æ–≥—ñ—ó
- **Python:** 3.11+
- **–§—Ä–µ–π–º–≤–æ—Ä–∫:** Flask
- **–ë–∞–∑–∞ –¥–∞–Ω–∏—Ö:** SQLite3
- **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è:** Flasgger (Swagger UI)
- **–ë—ñ–±–ª—ñ–æ—Ç–µ–∫–∏:** Werkzeug (–¥–ª—è –±–µ–∑–ø–µ–∫–∏), Flasgger

---

## Endpoints API (–†–µ–∞–ª—ñ–∑–æ–≤–∞–Ω–æ 8 Endpoints)

### –¢–∞–±–ª–∏—Ü—è Endpoints
| ‚Ññ | –†–µ—Å—É—Ä—Å | –ú–µ—Ç–æ–¥ | URL | –û–ø–∏—Å | –ó–∞—Ö–∏—Å—Ç |
| :--- | :--- | :--- | :--- | :--- | :--- |
| **1** | System | `GET` | `/api/v1/status` | –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –ø—Ä–∞—Ü–µ–∑–¥–∞—Ç–Ω–æ—Å—Ç—ñ API. | –ü—É–±–ª—ñ—á–Ω–∏–π |
| **2** | Products | `GET` | `/api/v1/products` | –û—Ç—Ä–∏–º–∞—Ç–∏ –≤–µ—Å—å –∫–∞—Ç–∞–ª–æ–≥ —Ç–æ–≤–∞—Ä—ñ–≤. | –ü—É–±–ª—ñ—á–Ω–∏–π |
| **3** | Products | `GET` | `/api/v1/products/<id>` | –û—Ç—Ä–∏–º–∞—Ç–∏ –¥–µ—Ç–∞–ª—ñ –æ–¥–Ω–æ–≥–æ —Ç–æ–≤–∞—Ä—É. | –ü—É–±–ª—ñ—á–Ω–∏–π |
| **4** | Products | `POST` | `/api/v1/products` | –°—Ç–≤–æ—Ä–∏—Ç–∏ –Ω–æ–≤–∏–π —Ç–æ–≤–∞—Ä. | **Admin** |
| **5** | Products | `PUT` | `/api/v1/products/<id>` | –û–Ω–æ–≤–∏—Ç–∏ —Ç–æ–≤–∞—Ä (—Ü—ñ–Ω—É/–∫–∞—Ç–µ–≥–æ—Ä—ñ—é). | **Admin** |
| **6** | Products | `DELETE` | `/api/v1/products/<id>` | –í–∏–¥–∞–ª–∏—Ç–∏ —Ç–æ–≤–∞—Ä. | **Admin** |
| **7** | Orders | `POST` | `/api/v1/orders` | –û—Ñ–æ—Ä–º–∏—Ç–∏ –Ω–æ–≤–µ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è. | –ü—É–±–ª—ñ—á–Ω–∏–π |
| **8** | Orders | `GET` | `/api/v1/orders/<id>` | –û—Ç—Ä–∏–º–∞—Ç–∏ –¥–µ—Ç–∞–ª—ñ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è. | –í–ª–∞—Å–Ω–∏–∫/Admin |

### –ü—Ä–∏–∫–ª–∞–¥ –∑–∞–ø–∏—Ç—É (POST /api/v1/products)
```json
{
  "name": "–ó–æ–ª–æ—Ç–∞ –õ–æ–ø–∞—Ç–∞",
  "price": 800.0,
  "category": "–Ü–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∏",
  "image": "/static/images/new_tool.png"
}
–†–µ–∑—É–ª—å—Ç–∞—Ç–∏ —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è –≤ Postman (–∞–±–æ Swagger)
–¢–µ—Å—Ç–æ–≤–∏–π —Å—Ü–µ–Ω–∞—Ä—ñ–π 1: –£—Å–ø—ñ—à–Ω–µ –°—Ç–≤–æ—Ä–µ–Ω–Ω—è –†–µ—Å—É—Ä—Å—É (POST/201)
–ú–µ—Ç–∞: –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏, —á–∏ –∫–æ—Ä–µ–∫—Ç–Ω–æ API —Å—Ç–≤–æ—Ä—é—î –Ω–æ–≤–∏–π —Ç–æ–≤–∞—Ä —ñ –ø–æ–≤–µ—Ä—Ç–∞—î 201 Created.

–î—ñ—è: –í–∏–∫–æ–Ω–∞—Ç–∏ POST –∑–∞–ø–∏—Ç –Ω–∞ /api/v1/products (–±—É–¥—É—á–∏ –∑–∞–ª–æ–≥—ñ–Ω–µ–Ω–∏–º –∞–¥–º—ñ–Ω–æ–º).

–†–µ–∑—É–ª—å—Ç–∞—Ç: ‚úÖ –£—Å–ø—ñ—à–Ω–æ.
- **–°–∫—Ä—ñ–Ω—à–æ—Ç –∑  Swagger**
  
  ![–°–∫—Ä—ñ–Ω—à–æ—Ç —É—Å–ø—ñ—à–Ω–æ–≥–æ POST –∑–∞–ø–∏—Ç—É](docs_images/Api1.png)

–¢–µ—Å—Ç–æ–≤–∏–π —Å—Ü–µ–Ω–∞—Ä—ñ–π 2: –í–∞–ª—ñ–¥–∞—Ü—ñ—è –¥–∞–Ω–∏—Ö (400 Bad Request)
–ú–µ—Ç–∞: –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ –í–∞–ª—ñ–¥–∞—Ü—ñ—é (–†—ñ–≤–µ–Ω—å 3): —á–∏ –ø–æ–≤–µ—Ä—Ç–∞—î API –ø–æ–º–∏–ª–∫—É –ø—Ä–∏ –Ω–µ–≥–∞—Ç–∏–≤–Ω—ñ–π —Ü—ñ–Ω—ñ.

–î—ñ—è: –í–∏–∫–æ–Ω–∞—Ç–∏ POST –∑–∞–ø–∏—Ç –Ω–∞ /api/v1/products –∑ {"price": -10.0}.

–†–µ–∑—É–ª—å—Ç–∞—Ç: ‚úÖ –£—Å–ø—ñ—à–Ω–æ. (–ü–æ–≤–µ—Ä–Ω—É—Ç–æ 400 Bad Request).
- **–°–∫—Ä—ñ–Ω—à–æ—Ç –∑  Swagger**
  
  ![–°–∫—Ä—ñ–Ω—à–æ—Ç —É—Å–ø—ñ—à–Ω–æ–≥–æ POST –∑–∞–ø–∏—Ç—É](docs_images/Api2.png)

–¢–µ—Å—Ç–æ–≤–∏–π —Å—Ü–µ–Ω–∞—Ä—ñ–π 3: –î–æ—Å—Ç—É–ø –∑–∞–±–æ—Ä–æ–Ω–µ–Ω–æ (403 Forbidden)
–ú–µ—Ç–∞: –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏, —á–∏ –ø—Ä–∞—Ü—é—î –∑–∞—Ö–∏—Å—Ç —Ä–æ–ª–µ–π.

–î—ñ—è: –í–∏–∫–æ–Ω–∞—Ç–∏ DELETE –∑–∞–ø–∏—Ç –Ω–∞ /api/v1/products/2 –ë–ï–ó –ª–æ–≥—ñ–Ω—É –∞–±–æ –∑ —Ä–æ–ª–ª—é user.

–†–µ–∑—É–ª—å—Ç–∞—Ç: ‚úÖ –£—Å–ø—ñ—à–Ω–æ. (–ü–æ–≤–µ—Ä–Ω—É—Ç–æ 403 Forbidden).
- **–°–∫—Ä—ñ–Ω—à–æ—Ç –∑  Swagger**
  
  ![–°–∫—Ä—ñ–Ω—à–æ—Ç —É—Å–ø—ñ—à–Ω–æ–≥–æ POST –∑–∞–ø–∏—Ç—É](docs_images/Api3.png)

–¢–µ—Å—Ç–æ–≤–∏–π —Å—Ü–µ–Ω–∞—Ä—ñ–π 4: –†–µ—Å—É—Ä—Å –Ω–µ –∑–Ω–∞–π–¥–µ–Ω–æ (404 Not Found)
–ú–µ—Ç–∞: –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ –æ–±—Ä–æ–±–∫—É –Ω–µ—ñ—Å–Ω—É—é—á–∏—Ö ID.

–î—ñ—è: –í–∏–∫–æ–Ω–∞—Ç–∏ GET –∑–∞–ø–∏—Ç –Ω–∞ /api/v1/products/99999.

–†–µ–∑—É–ª—å—Ç–∞—Ç: ‚úÖ –£—Å–ø—ñ—à–Ω–æ. (–ü–æ–≤–µ—Ä–Ω—É—Ç–æ 404 Not Found).
- **–°–∫—Ä—ñ–Ω—à–æ—Ç –∑  Swagger**
  
  ![–°–∫—Ä—ñ–Ω—à–æ—Ç —É—Å–ø—ñ—à–Ω–æ–≥–æ POST –∑–∞–ø–∏—Ç—É](docs_images/Api4.png)

–î–æ–¥–∞—Ç–∫–æ–≤–∏–π —Å–∫—Ä—ñ–Ω—à–æ—Ç: –£—Å–ø—ñ—à–Ω–µ –û–Ω–æ–≤–ª–µ–Ω–Ω—è (PUT/200)
–ú–µ—Ç–∞: –ü—ñ–¥—Ç–≤–µ—Ä–¥–∂–µ–Ω–Ω—è —Ä–æ–±–æ—Ç–∏ –º–µ—Ç–æ–¥—É PUT.

–î—ñ—è: –í–∏–∫–æ–Ω–∞—Ç–∏ PUT –∑–∞–ø–∏—Ç –Ω–∞ /api/v1/products/1 (–±—É–¥—É—á–∏ –∑–∞–ª–æ–≥—ñ–Ω–µ–Ω–∏–º –∞–¥–º—ñ–Ω–æ–º).

–†–µ–∑—É–ª—å—Ç–∞—Ç: ‚úÖ –£—Å–ø—ñ—à–Ω–æ. (–ü–æ–≤–µ—Ä–Ω—É—Ç–æ 200 OK).
- **–°–∫—Ä—ñ–Ω—à–æ—Ç –∑  Swagger**
  
  ![–°–∫—Ä—ñ–Ω—à–æ—Ç —É—Å–ø—ñ—à–Ω–æ–≥–æ POST –∑–∞–ø–∏—Ç—É](docs_images/Api5.png)

–û–±—Ä–æ–±–∫–∞ –ø–æ–º–∏–ª–æ–∫
–°–ø–∏—Å–æ–∫ —Ä–µ–∞–ª—ñ–∑–æ–≤–∞–Ω–∏—Ö –∫–æ–¥—ñ–≤ –ø–æ–º–∏–ª–æ–∫:

200 OK: –£—Å–ø—ñ—à–Ω–∏–π –∑–∞–ø–∏—Ç (GET, PUT).

201 Created: –£—Å–ø—ñ—à–Ω–µ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è —Ä–µ—Å—É—Ä—Å—É (POST).

400 Bad Request: –í–∏–Ω–∏–∫–∞—î, –∫–æ–ª–∏ –≤—Ö—ñ–¥–Ω—ñ –¥–∞–Ω—ñ JSON –Ω–µ–ø–æ–≤–Ω—ñ –∞–±–æ –Ω–µ –ø—Ä–æ–π—à–ª–∏ –≤–∞–ª—ñ–¥–∞—Ü—ñ—é (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, price < 0).

403 Forbidden: –í–∏–Ω–∏–∫–∞—î, –∫–æ–ª–∏ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á –Ω–µ –º–∞—î –ø–æ—Ç—Ä—ñ–±–Ω–æ—ó —Ä–æ–ª—ñ (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, user –Ω–∞–º–∞–≥–∞—î—Ç—å—Å—è –≤–∏–∫–æ–Ω–∞—Ç–∏ DELETE —Ç–æ–≤–∞—Ä—É).

404 Not Found: –í–∏–Ω–∏–∫–∞—î, –∫–æ–ª–∏ —Ä–µ—Å—É—Ä—Å –∑–∞ –≤–∫–∞–∑–∞–Ω–∏–º ID –Ω–µ –∑–Ω–∞–π–¥–µ–Ω–æ.